# Example Campaign Walkthrough

This document explains how the **Example_Campaign** is generated using the D&D Character Consultant System. It serves as a hands-on tutorial showing the system's core workflow.

## Quick Start

To generate the Example Campaign from scratch, run:

```bash
python dnd_consultant.py
```

## Step-by-Step Walkthrough

### Step 1: View and Enhance First Story (Menu: `2 > 2 > 1 > 2 > 1 > y > 2`)

**Input Sequence:**
```
2      → Manage Stories
2      → Work with Story Series
1      → Select Example_Campaign
2      → View Story Details
1      → Select story 001_start.md
y      → Generate AI continuation
2      → Exploration/Social/Roleplay scene
```

**Continuation Prompt:**
```
the party meets at the prancing pony and is given a quest from the innkeeper
```

**Generated Files:**
- `story_hooks_<current-date>_001_start.md` - Auto-detected NPCs and plot hooks
- `character_development_<current-date>_001_start.md` - Character action analysis
- `session_results_<current-date>_001_start.md` - Session summary with character actions
- Story file updated: `001_start.md`

---

### Step 2: View and Enhance Second Story (Menu: `2 > 2 > 1 > 2 > 2 > y > 2`)

**Input Sequence:**
```
2      → Manage Stories
2      → Work with Story Series
1      → Select Example_Campaign
2      → View Story Details
2      → Select story 002_continue.md
y      → Generate AI continuation
2      → Exploration/Social/Roleplay scene
```
#### Important Note
The following prompts are updated for the location where the inital prompt is sending the party: Weathertop can be different if you chose to recreate this example. 

**Continuation Prompt:**
```
the party is on their way to Weathertop, discussing what might have happened there they are on the road there
```

**Generated Files:**
- `story_hooks_<current-date>_002_continue.md` - Auto-detected NPCs and plot hooks
- `character_development_<current-date>_002_continue.md` - Character action analysis
- `session_results_<current-date>_002_continue.md` - Session summary with character actions
- Story file updated: `002_continue.md`

---

### Step 3: Add Combat Narrative to Second Story (Menu: `2 > 2 > 1 > 2 > 2 > y > 1 > 3`)

**Input Sequence:**
```
2      → Manage Stories
2      → Work with Story Series
1      → Select Example_Campaign
2      → View Story Details
2      → Select story 002_continue.md (again)
y      → Generate AI continuation
1      → Combat/Action scene
3      → Heroic narrative style
```

**Combat Description:**
```
the party ventures on the road and are continuing their investigation while ambushed by goblins they all shoot at the party, hitting aragorn once, gandalf twice and miss frodo, aragorn shoots 1 with his bow defeating it and moves towards another, gandalf prepares a fireball and defeats 6 more, frodo stealthily moves up behind the one in combat with aragorn and strikes it down with a crit
```

**Generated Files:**
- Combat narrative appended to `002_continue.md`
- Auto-generated title: `Goblin Ambush on the Road`

---

### Step 4: View and Enhance Third Story (Menu: `2 > 2 > 1 > 2 > 3 > y > 2`)

**Input Sequence:**
```
2      → Manage Stories
2      → Work with Story Series
1      → Select Example_Campaign
2      → View Story Details
3      → Select story 003_end.md
y      → Generate AI continuation
2      → Exploration/Social/Roleplay scene
```

**Continuation Prompt:**
```
the party gets to Weathertop and uncovers the cause of darkness where gandalf cast detect magic, they return to the inn to collect their reward
```

**Generated Files:**
- `story_hooks_<current-date>_003_end.md` - Final analysis and hooks
- `character_development_<current-date>_003_end.md` - Character action analysis
- `session_results_<current-date>_003_end.md` - Session summary
- Story file updated: `003_end.md`

## Campaign Generation Summary

All files in the `Example_Campaign` folder **except** `current_party.json` and `current_party.example.json` are automatically generated by the system:

| File | Generated By | Purpose |
|------|--------------|---------|
| `001_start.md` | Pre-created in system | Story narrative (enhanced in Step 1) |
| `002_continue.md` | Pre-created in system | Story narrative (enhanced in Steps 2-3) |
| `003_end.md` | Pre-created in system | Story narrative (enhanced in Step 4) |
| `story_hooks_*.md` | Workflow orchestrator | NPCs, plot hooks, analysis suggestions |
| `character_development_*.md` | Character action analyzer | Character actions vs. established traits |
| `session_results_*.md` | Session results manager | AI-analyzed character actions and events |
| `current_party.json` | User-created | Party member list for the campaign |
| `current_party.example.json` | User-created | Template example |

### How the Campaign is Enhanced

The Example Campaign already exists with three pre-created story files:
- `001_start.md` - "Prancing Pony Tensions"
- `002_continue.md` - "Mysteries of Trollshaws Forest"
- `003_end.md` - Story template waiting for content

The workflow above demonstrates how to:
1. **Enhance existing stories** with AI-generated continuations
2. **Add combat narratives** to exploration scenes
3. **Auto-generate supporting files** (hooks, character development, session results)
4. **Maintain party consistency** across all generated content

### Note on Follow-up Prompts

When generating content for each story, the system intelligently:
1. **Updates context** based on the story's current content
2. **Suggests NPCs** based on characters mentioned in the narrative
3. **Maintains character consistency** by analyzing actions against established traits
4. **Auto-detects plot hooks** for future story development

## Key Features Demonstrated

This workflow demonstrates:

- ✅ **Story Series Management** - Organized story progression
- ✅ **Automatic NPC Detection** - System identifies innkeepers, goblin leaders, etc.
- ✅ **Character Consistency Tracking** - Analyzes character actions across stories
- ✅ **Combat to Narrative** - Converts tactical combat descriptions to story text
- ✅ **AI-Assisted Analysis** - Optional AI generation for richer narratives
- ✅ **Party Management** - Persistent party configuration per campaign
- ✅ **Automated File Generation** - Session summaries, development files, hooks
- ✅ **Story Hooks** - Plot suggestions and NPC profiles for future stories

## Next Steps

After generating the Example Campaign:

1. **Review Generated Files** - Open story files in VSCode to see auto-generated content
2. **Edit & Customize** - Add your own narrative details to AI-generated content
3. **Create New Campaign** - Use the same workflow with your own party and stories
4. **Extend with AI** - Enable AI generation in the `.env` file for richer narratives
5. **Integrate RAG** - Add wiki lookups for accurate lore and spell descriptions

## Troubleshooting

### Files Not Generating
- Check that `current_party.json` exists in the campaign folder
- Verify party members match character JSON files in `game_data/characters/`
- Ensure story files have proper naming (001_*, 002_*, etc.)

### Incomplete Session Results
- Make sure story file contains character names matching the party
- AI analysis requires AI client configuration (see [AI Integration Guide](AI_INTEGRATION.md))

### Party Config Issues
- Each campaign must have its own `current_party.json` in `game_data/campaigns/<campaign_name>/`
- This file is created automatically when you set up a new story series

For detailed system information, see the main [README.md](../README.md).
